{"remainingRequest":"I:\\WebDev\\vuejs\\movie\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!I:\\WebDev\\vuejs\\movie\\src\\components\\pages\\Verify.vue?vue&type=script&lang=js&","dependencies":[{"path":"I:\\WebDev\\vuejs\\movie\\src\\components\\pages\\Verify.vue","mtime":1579425006000},{"path":"I:\\WebDev\\vuejs\\movie\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\WebDev\\vuejs\\movie\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"I:\\WebDev\\vuejs\\movie\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\WebDev\\vuejs\\movie\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcmVzdWx0OiBudWxsCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBzaG93OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBwYXJzZWRXb3JkQXJyYXkgPSB0aGlzLiRDcnlwdG9KUy5lbmMuQmFzZTY0LnBhcnNlKHRoaXMuJHJvdXRlLnF1ZXJ5LmRhdGEpOwogICAgICAgICAgICB2YXIgcGFyc2VkU3RyID0gcGFyc2VkV29yZEFycmF5LnRvU3RyaW5nKHRoaXMuJENyeXB0b0pTLmVuYy5VdGY4KTsKICAgICAgICAgICAgdGhpcy5yZXN1bHQgPSBKU09OLnBhcnNlKHBhcnNlZFN0cik7CiAgICAgICAgfSwKICAgICAgICBkb3dubG9hZEZpbG06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2Rvd25sb2FkRmlsbScsIHtsaW5rOiB0aGlzLnJlc3VsdC5wcm9kdWN0cy5kZXRhaWxzLmRvd25sb2FkVXJsfSkKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgIT09ICdTdWNjZXNzJykgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKCfYrti32KcnLCByZXNwb25zZS5kYXRhLmVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXNwb25zZS5kYXRhLmRvd25sb2FkVXJsOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VwZGF0ZVJlcXVlc3RpbmcnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbCgn2K7Yt9inJywgJ9iu2LfYp9uMINi624zYsSDZhdmG2KrYuNix2Ycg2LHYriDYr9in2K/ZhyDYp9iz2Kog2YTYt9mB2Kcg2K/ZiNio2KfYsdmHINin2YXYqtit2KfZhiDaqdmG24zYry4nLCAnZXJyb3InKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5zaG93KCkKICAgIH0sCn0K"},{"version":3,"sources":["Verify.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Verify.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\r\n    <div class=\"content\">\r\n        <div v-if=\"result !==null\">\r\n            <div class=\"purchase-verify\" v-if=\"result.status ==='Success'\">\r\n                <div class=\"purchase-verify-status success\">\r\n                    <i class=\"fa fa-check font-1 text-white\"></i>\r\n                </div>\r\n                <div class=\"purchase-verify-box\">\r\n                    <h2 class=\"text-grey\">تراکنش با موفقیت انجام شد.</h2>\r\n                    <div class=\" b-radius-1 purchase-verify-info \">\r\n                        <div class=\"purchase-verify-info-title flex-self-start\">\r\n                            <i class=\"fa fa-dot-circle text-grey\"></i>\r\n                            <span class=\"text-grey\">کد پیگیری:</span>\r\n                        </div>\r\n                        <p class=\"text-grey text-ltr font-4\">{{result.refId}}</p>\r\n                    </div>\r\n                    <div class=\" b-radius-1 purchase-verify-info \">\r\n                        <div class=\"purchase-verify-info-title flex-self-start\">\r\n                            <i class=\"fa fa-dot-circle text-grey\"></i>\r\n                            <span class=\"text-grey\">زمان خرید:</span>\r\n                        </div>\r\n                        <p class=\"text-grey text-ltr font-4\">{{result.date}}</p>\r\n                    </div>\r\n                    <div class=\" b-radius-1 purchase-verify-info \">\r\n                        <div class=\"purchase-verify-info-title flex-self-start\">\r\n                            <i class=\"fa fa-dot-circle text-grey\"></i>\r\n                            <span class=\"text-grey\">نام فیلم:</span>\r\n                        </div>\r\n                        <p class=\"text-grey text-ltr font-4\">{{result.products.name}}</p>\r\n                    </div>\r\n                    <div class=\" b-radius-1 purchase-verify-info \">\r\n                        <div class=\"purchase-verify-info-title flex-self-start\">\r\n                            <i class=\"fa fa-dot-circle text-grey\"></i>\r\n                            <span class=\"text-grey\">مبلغ فیلم:</span>\r\n                        </div>\r\n                        <p class=\"text-grey text-ltr font-4\">{{result.products.price.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\")}} تومان</p>\r\n                    </div>\r\n                    <div class=\" b-radius-1 purchase-verify-info \">\r\n                        <div class=\"purchase-verify-info-title flex-self-start\">\r\n                            <i class=\"fa fa-dot-circle text-grey\"></i>\r\n                            <span class=\"text-grey\">شماره موبایل:</span>\r\n                        </div>\r\n                        <p class=\"text-grey text-ltr font-4\">{{result.products.details.cellphone}}</p>\r\n                    </div>\r\n                    <button @click=\"downloadFilm()\" class=\"btn col-md-12 btn-success b-radius-1\">دانلود فایل فیلم</button>\r\n                    <router-link class=\"btn col-md-12 btn-primary b-radius-1\" to=\"/\">بازگشت به صفحه اصلی</router-link>\r\n                </div>\r\n            </div>\r\n            <div v-else class=\"purchase-verify \">\r\n                <div class=\"purchase-verify-status success\">\r\n                    <i class=\"fa fa-check font-1 text-white\"></i>\r\n                </div>\r\n                <div class=\"purchase-verify-status error\">\r\n                    <i class=\"fa fa-times font-1 text-white\"></i>\r\n                </div>\r\n                <div class=\"purchase-verify-box\">\r\n                    <h2 class=\"text-grey\">تراکنش ناموفق بود.</h2>\r\n                    <div class=\"flex-self-start\">\r\n                        <p class=\"text-grey font-3\">تراکنش تایید نشد.</p>\r\n                        <p class=\"text-grey font-4\">چنانچه وجه از حساب شما کسر شده است، طی 72 ساعت کاری آینده\r\n                            از طرف بانک وجه به حساب شما باز می گردد.\r\n                        </p>\r\n                    </div>\r\n                    <router-link class=\"btn col-md-12 btn-primary b-radius-1\" to=\"/\">بازگشت به صفحه اصلی</router-link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                result: null\r\n            }\r\n        },\r\n        methods: {\r\n            show: function () {\r\n                var parsedWordArray = this.$CryptoJS.enc.Base64.parse(this.$route.query.data);\r\n                var parsedStr = parsedWordArray.toString(this.$CryptoJS.enc.Utf8);\r\n                this.result = JSON.parse(parsedStr);\r\n            },\r\n            downloadFilm: function () {\r\n                this.$store.dispatch('downloadFilm', {link: this.result.products.details.downloadUrl})\r\n                    .then(response => {\r\n                        if (response.data.status !== 'Success') {\r\n                            this.$swal('خطا', response.data.errorMessage, 'error');\r\n                            return;\r\n                        }\r\n                        window.location.href = response.data.downloadUrl;\r\n                    })\r\n                    .catch(error => {\r\n                        this.$store.dispatch('updateRequesting', false);\r\n                        this.$swal('خطا', 'خطای غیر منتظره رخ داده است لطفا دوباره امتحان کنید.', 'error');\r\n                    })\r\n            }\r\n        },\r\n        mounted() {\r\n            this.show()\r\n        },\r\n    }\r\n</script>\r\n"]}]}